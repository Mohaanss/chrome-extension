{"version":3,"file":"worker.bundle.js","mappings":";;AAAA;AACA;AACA;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAIA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA","sources":["webpack://chrome-extension/webpack/bootstrap","webpack://chrome-extension/webpack/runtime/make namespace object","webpack://chrome-extension/./src/service/worker.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","chrome.runtime.onInstalled.addListener(() => {\n  chrome.storage.local.set({\n    unitName: {\n      Fajr: false,\n      Dhuhr: false,\n      Asr: false,\n      Maghrib: false,\n      Isha: false,\n    },\n  });\n  createDailyAlarm();\n});\n\nchrome.alarms.onAlarm.addListener((alarm) => {\n  if (alarm.name === \"notifyMorning\") {\n    showNotification(\"08:00 AM\");\n  } else if (alarm.name === \"notifyNoon\") {\n    showNotification(\"12:00 PM\");\n  } else if (alarm.name === \"notifyAfternoon\") {\n    showNotification(\"04:00 PM\");\n  }\n});\n\nfunction createDailyAlarm() {\n  const now = new Date();\n  const millisTillMidnight =\n    new Date(now.getFullYear(), now.getMonth(), now.getDate() + 1, 0, 0, 0) -\n    now;\n\n  chrome.alarms.create(\"fetchData\", {\n    when: Date.now() + millisTillMidnight,\n    periodInMinutes: 1440,\n  });\n\n  createNotificationAlarm(\"notifyNoon\", 22, 36);\n}\nfunction createNotificationAlarm(name, hour, minute) {\n  const now = new Date();\n  const targetTime = new Date(\n    now.getFullYear(),\n    now.getMonth(),\n    now.getDate(),\n    hour,\n    minute,\n    0,\n    0\n  );\n  if (targetTime > now) {\n    const millisTillTime = targetTime - now;\n    chrome.alarms.create(name, {\n      when: Date.now() + millisTillTime,\n      periodInMinutes: 1440,\n    });\n  } else {\n    console.log(\n      `L'heure ${hour}:${minute} est déjà passée aujourd'hui. Aucune alarme créée pour ${name}.`\n    );\n  }\n}\n\nfunction showNotification(time) {\n  chrome.storage.local.get(\"fetchedData\", (result) => {\n    const data = result.fetchedData || \"Pas de données disponibles\";\n    chrome.notifications.create({\n      type: \"basic\",\n      iconUrl:\n        \"../../../dist/images/apple-icon-57x57.cd4dd987179efa275648b5ac0d824010.png\",\n      title: `Notification pour ${time}`,\n      message: `Données récupérées: ${data}`,\n    });\n  });\n}\n"],"names":[],"sourceRoot":""}